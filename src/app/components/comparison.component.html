<div class="comparison-container">
  <div class="comparison-header">
    <h1>üé¨ Stream Comparison</h1>
    <p class="header-description">Compare video streaming performance side by side</p>
  </div>

  <div class="players-section">
    <div class="player-wrapper">
      <div class="player-header">
        <h2>Player A (Control - Unlimited)</h2>
        <div class="stream-selector">
          <label for="streamA">Select Stream:</label>
          <select 
            id="streamA" 
            [(ngModel)]="playerA.selectedStream" 
            (change)="onPlayerAStreamChange()"
            class="stream-select"
          >
            <option value="">Choose a stream...</option>
            <option *ngFor="let stream of availableStreams" [value]="stream.url">
              {{ stream.title }}
            </option>
          </select>
        </div>
      </div>
      
      <div class="video-container">
        <video 
          #videoElementA 
          class="video-player" 
          controls 
          preload="metadata"
        >
          Your browser does not support the video tag.
        </video>
      </div>
      
      <div class="player-stats">
        <div class="stats-grid">
          <div class="stat-item">
            <span class="stat-label">Quality:</span>
            <span class="stat-value">{{ playerA.stats.quality }}</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">Bitrate:</span>
            <span class="stat-value">{{ playerA.stats.bitrate }} kbps</span>
          </div>
        </div>
      </div>
    </div>

    <div class="player-wrapper">
      <div class="player-header">
        <h2>Player B (Throttled)</h2>
        <div class="stream-selector">
          <label for="streamB">Select Stream:</label>
          <select 
            id="streamB" 
            [(ngModel)]="playerB.selectedStream" 
            (change)="onPlayerBStreamChange()"
            class="stream-select"
          >
            <option value="">Choose a stream...</option>
            <option *ngFor="let stream of availableStreams" [value]="stream.url">
              {{ stream.title }}
            </option>
          </select>
        </div>
      </div>
      
      <div class="video-container">
        <video 
          #videoElementB 
          class="video-player" 
          controls 
          preload="metadata"
        >
          Your browser does not support the video tag.
        </video>
      </div>
      
      <div class="player-stats">
        <div class="stats-grid">
          <div class="stat-item">
            <span class="stat-label">Quality:</span>
            <span class="stat-value">{{ playerB.stats.quality }}</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">Bitrate:</span>
            <span class="stat-value">{{ playerB.stats.bitrate }} kbps</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="controls-section">
    <div class="control-panels">
      <div class="control-section">
        <h4>Network Simulation (Player B Only)</h4>
        <div class="network-controls">
          <label for="networkSpeed" class="control-label">Player B Connection Speed:</label>
          <select 
            id="networkSpeed" 
            [(ngModel)]="selectedNetworkSpeed" 
            (change)="onNetworkSpeedChange()"
            class="network-select"
          >
            <option value="0">Unlimited (No Throttling)</option>
            <option value="400000">Slow 3G (400 Kbps)</option>
            <option value="1500000">Fast 3G (1.5 Mbps)</option>
            <option value="5000000">4G (5 Mbps)</option>
            <option value="25000000">WiFi (25 Mbps)</option>
          </select>
          
          <div class="network-status" *ngIf="selectedNetworkSpeed > 0">
            <span class="status-indicator active"></span>
            <span class="status-text">Player B throttling active</span>
          </div>
          
          <p class="network-description">
            Player A maintains unlimited bandwidth as a control reference
          </p>
        </div>
      </div>

      <div class="control-section">
        <h4>Playback Controls</h4>
        <div class="control-buttons">
          <button class="icon-btn play-btn" (click)="syncPlay()" title="Sync Play">
            <span class="btn-icon">‚ñ∂Ô∏è</span>
          </button>
          <button class="icon-btn pause-btn" (click)="syncPause()" title="Sync Pause">
            <span class="btn-icon">‚è∏Ô∏è</span>
          </button>
          <button class="icon-btn seek-btn" (click)="syncSeek()" title="Sync Seek">
            <span class="btn-icon">‚è≠Ô∏è</span>
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="notification" *ngIf="notificationMessage" [class.show]="showNotification">
    {{ notificationMessage }}
  </div>
</div>
